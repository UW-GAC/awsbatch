{
  "jobDefinitionName": "TM_nomount",
  "type": "container",
  "retryStrategy": {
      "attempts": 2
  },
  "parameters": { "wd" : "/projects/topmed/analysts/batch",
      "dr" : "/projects",
      "rd" : "/usr/local/analysis_pipeline/runRscript.sh",
      "ra" : "-c 1 /usr/local/analysis_pipeline/R/assoc_window.R /projects/topmed/analysts/batch/somefile.cfg",
      "lf" : "runrscript.log",
      "tmo": "60",
      "db" : "0",
      "po" : "0",
      "mt" : "mount -t nfs4 -o vers=4.1 fs-6ccd31c5.efs.us-west-2.amazonaws.com:/ /projects",
      "at" : "0"
  },
  "containerProperties": {
    "image": "uwgac/r343-topmed:devel",
    "vcpus": 2,
    "memory": 7000,
    "privileged": true,
    "command": [
        "/usr/local/analysis_pipeline/batchJob.py",
        "--workdir", "Ref::wd",
        "--dataroot", "Ref::dr",
        "--rdriver", "Ref::rd",
        "--rargs", "Ref::ra",
        "--mount", "Ref::mt",
        "--Debug", "Ref::db",
        "--printonly", "Ref::po",
        "--logfile", "Ref::lf",
        "--timeout", "Ref::tmo",
        "--arraytype", "Ref::at",
        "--nomount"
    ],
    "volumes": [
        {
          "name": "projects",
          "host": {
            "sourcePath": "/projects"
          }
        }
    ],
    "mountPoints": [
        {
            "containerPath": "/projects",
            "readOnly": false,
            "sourceVolume": "projects"
        }
    ],
    "environment": [
      {
        "name": "SGE_TASK_ID",
        "value": "1"
      }
    ]

    }
}
